# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π –∂–∏–∑–Ω–∏ –ö–ª—ç—Ä

## –ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª–∏–∑–º–∞
–õ–∞–∫–æ–Ω–∏—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Å—Å–∏–π.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 0. Start (start)
```
–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π ‚Üí PID tracking
```
- –ó–∞–ø—É—Å–∫/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ Claude —Å–µ—Å—Å–∏–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PID —Ñ–∞–π–ª–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–ª–∞–≥–æ–≤: --force, --quiet, --check
- Graceful shutdown

### 1. Health Monitor (health_monitor.py)
```
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è ‚Üí start --force --quiet (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
```
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –∂–∏–≤–æ–π —Å–µ—Å—Å–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `start` –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 2. Life Daemon (life_daemon.sh)
```
Health Check ‚Üí –ï—Å–ª–∏ –∑–¥–æ—Ä–æ–≤: .life ‚Üí –ò–Ω–∞—á–µ: Orchestrator
```
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è cron –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –í—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø—É—Ç—å

### 3. Life Orchestrator (life_orchestrator.py)
```
–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ ‚Üí –ü—Ä—è–º—ã–µ MCP –≤—ã–∑–æ–≤—ã ‚Üí Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
```
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ–≥–¥–∞ Claude –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram MCP
- –£–º–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

## –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫: ./start
–ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞:    Cron ‚Üí life_daemon.sh ‚Üí health_monitor.py
                                     ‚Üì
                              start (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)
                                     ‚Üì
                           –ï—Å–ª–∏ –∑–¥–æ—Ä–æ–≤ ‚Üí claude ".life"
                           –ï—Å–ª–∏ –±–æ–ª–µ–Ω ‚Üí life_orchestrator.py
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
chmod +x setup_cron.sh life_daemon.sh
./setup_cron.sh
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 4. Watchdog (watchdog.py)
```
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Üí –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–Ω–∏–π ‚Üí –ñ–µ—Å—Ç–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
```
- –°–ª–µ–¥–∏—Ç –∑–∞ –≤—Ä–µ–º–µ–Ω–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–±–æ–µ–≤ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç spam
- –ñ–µ—Å—Ç–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–±–æ—è—Ö
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç —á–µ—Ä–µ–∑ cron

## –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞

1. **Health Monitor** - –º—è–≥–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
2. **Life Daemon** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–±–æ–µ–≤ .life –∫–æ–º–∞–Ω–¥—ã
3. **Life Orchestrator** - fallback –Ω–∞ –ø—Ä—è–º—ã–µ MCP –≤—ã–∑–æ–≤—ã
4. **Watchdog** - –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä—É–±–µ–∂ –∑–∞—â–∏—Ç—ã –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –õ–æ–≥–∏: `logs/life_daemon.log`, `health_monitor.log`, `watchdog.log`
- –°–æ—Å—Ç–æ—è–Ω–∏–µ: `state/claude_health.txt`, `state/claude.pid`, `state/last_success.txt`
- –°—á–µ—Ç—á–∏–∫–∏: `state/crash_count.txt`, `state/orchestrator_state.json`
- –ü—Ä–æ—Å–º–æ—Ç—Ä cron: `crontab -l`

## SRE –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - 4 —É—Ä–æ–≤–Ω—è –∑–∞—â–∏—Ç—ã
2. **–°–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
3. **–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è** - —Å—á–µ—Ç—á–∏–∫–∏ —Å–±–æ–µ–≤ —Å —Ç–∞–π–º–∞—É—Ç–∞–º–∏
4. **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
5. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å —Ö–æ—Ä–æ—à–æ